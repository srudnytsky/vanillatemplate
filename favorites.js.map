{"version":3,"file":"favorites.js","sources":["../src/js/favorites.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n  // === MOBILE MENU ===\r\n  const menuToggle = document.querySelector('.menu-toggle');\r\n  const mobileMenu = document.querySelector('.mobile-menu');\r\n  const menuClose = document.querySelector('.mobile-menu-close');\r\n  \r\n  if (menuToggle && mobileMenu && menuClose) {\r\n    menuToggle.addEventListener('click', () => {\r\n      mobileMenu.classList.add('active');\r\n      document.body.style.overflow = 'hidden';\r\n    });\r\n    \r\n    menuClose.addEventListener('click', () => {\r\n      mobileMenu.classList.remove('active');\r\n      document.body.style.overflow = '';\r\n    });\r\n    \r\n    mobileMenu.querySelectorAll('.mobile-menu-link').forEach(link => {\r\n      link.addEventListener('click', () => {\r\n        mobileMenu.classList.remove('active');\r\n        document.body.style.overflow = '';\r\n      });\r\n    });\r\n  }\r\n\r\n  // === API AND STORAGE ===\r\n  const API_BASE = 'https://your-energy.b.goit.study/api';\r\n  const favoritesContent = document.getElementById('favorites-content');\r\n  const quoteText = document.getElementById('fav-quote-text');\r\n  const quoteAuthor = document.getElementById('fav-quote-author');\r\n  const subscribeForm = document.getElementById('subscribe-form');\r\n\r\n  // === FAVORITES MANAGEMENT ===\r\n  function getFavorites() {\r\n    const favorites = localStorage.getItem('favorites');\r\n    return favorites ? JSON.parse(favorites) : [];\r\n  }\r\n\r\n  function saveFavorites(favorites) {\r\n    localStorage.setItem('favorites', JSON.stringify(favorites));\r\n  }\r\n\r\n  function removeFavorite(exerciseId) {\r\n    let favorites = getFavorites();\r\n    favorites = favorites.filter(fav => fav._id !== exerciseId);\r\n    saveFavorites(favorites);\r\n    renderFavorites();\r\n  }\r\n\r\n  // === RENDER FAVORITES ===\r\n  function renderFavorites() {\r\n    if (!favoritesContent) return;\r\n\r\n    const favorites = getFavorites();\r\n\r\n    if (favorites.length === 0) {\r\n      // Show empty state\r\n      favoritesContent.innerHTML = `\r\n        <div class=\"empty-state\">\r\n          It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n\r\n    // Render exercise cards\r\n    favoritesContent.innerHTML = '';\r\n    \r\n    favorites.forEach(exercise => {\r\n      const card = document.createElement('div');\r\n      card.className = 'favorite-exercise-card';\r\n      \r\n      card.innerHTML = `\r\n        <div class=\"favorite-card-header\">\r\n          <span class=\"favorite-workout-badge\">WORKOUT</span>\r\n          <button class=\"favorite-delete-btn\" data-id=\"${exercise._id}\" aria-label=\"Remove from favorites\">\r\n            ðŸ—‘\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"favorite-exercise-info\">\r\n          <div class=\"favorite-exercise-icon\">âš¡</div>\r\n          <h3 class=\"favorite-exercise-name\">${exercise.name}</h3>\r\n        </div>\r\n        \r\n        <div class=\"favorite-exercise-details\">\r\n          <span><span class=\"label\">Burned calories:</span> <span class=\"value\">${exercise.burnedCalories || 0} / ${exercise.time || 0} min</span></span>\r\n          <span><span class=\"label\">Body part:</span> <span class=\"value\">${exercise.bodyPart || ''}</span></span>\r\n          <span><span class=\"label\">Target:</span> <span class=\"value\">${exercise.target || ''}</span></span>\r\n        </div>\r\n        \r\n        <div class=\"favorite-card-footer\">\r\n          <button class=\"favorite-start-btn\" data-id=\"${exercise._id}\">\r\n            Start\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n              <path d=\"M12.172 7L6.808 1.636L8.222 0.222L16 8L8.222 15.778L6.808 14.364L12.172 9H0V7H12.172Z\" fill=\"currentColor\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      `;\r\n\r\n      favoritesContent.appendChild(card);\r\n    });\r\n\r\n    // Add event listeners to delete buttons\r\n    document.querySelectorAll('.favorite-delete-btn').forEach(btn => {\r\n      btn.addEventListener('click', () => {\r\n        const exerciseId = btn.getAttribute('data-id');\r\n        if (confirm('Remove this exercise from favorites?')) {\r\n          removeFavorite(exerciseId);\r\n        }\r\n      });\r\n    });\r\n\r\n    // Add event listeners to start buttons\r\n    document.querySelectorAll('.favorite-start-btn').forEach(btn => {\r\n      btn.addEventListener('click', () => {\r\n        const exerciseId = btn.getAttribute('data-id');\r\n        const exercise = favorites.find(fav => fav._id === exerciseId);\r\n        if (exercise) {\r\n          // Navigate to index page or open modal\r\n          window.location.href = `index.html`;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // === LOAD DAILY QUOTE ===\r\n  async function loadQuote() {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/quote`);\r\n      if (!res.ok) throw new Error('Network error');\r\n      const data = await res.json();\r\n      if (data?.quote && data?.author) {\r\n        quoteText.textContent = data.quote;\r\n        quoteAuthor.textContent = data.author;\r\n      } else {\r\n        quoteText.textContent = \"Quote not available\";\r\n        quoteAuthor.textContent = \"\";\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading quote:', err);\r\n      quoteText.textContent = \"Failed to load quote\";\r\n    }\r\n  }\r\n\r\n  // === SUBSCRIPTION ===\r\n  if (subscribeForm) {\r\n    subscribeForm.addEventListener('submit', async (e) => {\r\n      e.preventDefault();\r\n      const emailInput = subscribeForm.querySelector('input[type=\"email\"]');\r\n      const email = emailInput?.value.trim();\r\n\r\n      if (!email) {\r\n        alert('Please enter your email');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const res = await fetch(`${API_BASE}/subscription`, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ email })\r\n        });\r\n\r\n        const data = await res.json();\r\n        alert(data.message || 'Successfully subscribed!');\r\n        subscribeForm.reset();\r\n      } catch (err) {\r\n        console.error('Subscription error:', err);\r\n        alert('Failed to subscribe. Please try again later.');\r\n      }\r\n    });\r\n  }\r\n\r\n  // === INITIALIZATION ===\r\n  loadQuote();\r\n  renderFavorites();\r\n});"],"names":["menuToggle","mobileMenu","menuClose","link","API_BASE","favoritesContent","quoteText","quoteAuthor","subscribeForm","getFavorites","favorites","saveFavorites","removeFavorite","exerciseId","fav","renderFavorites","exercise","card","btn","loadQuote","res","data","err","e","email"],"mappings":"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"}