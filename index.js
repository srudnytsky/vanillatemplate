import"./assets/modulepreload-polyfill-B5Qt9EMX.js";/* empty css                    *//* empty css                      */document.addEventListener("DOMContentLoaded",()=>{const F=document.querySelector(".menu-toggle"),f=document.querySelector(".mobile-menu"),$=document.querySelector(".mobile-menu-close");F&&f&&$&&(F.addEventListener("click",()=>{f.classList.add("active"),document.body.style.overflow="hidden"}),$.addEventListener("click",()=>{f.classList.remove("active"),document.body.style.overflow=""}),f.querySelectorAll(".mobile-menu-link").forEach(e=>{e.addEventListener("click",()=>{f.classList.remove("active"),document.body.style.overflow=""})}));const y="https://your-energy.b.goit.study/api",r=document.getElementById("exercises-grid"),E=document.getElementById("pagination"),m=document.querySelectorAll(".tab-btn"),w=document.querySelector(".quote-text"),N=document.querySelector(".quote-author"),b=document.getElementById("subscribe-form"),i=document.getElementById("current-category"),u=document.getElementById("exercise-search"),A=document.getElementById("search-btn");let c=1;const H=12;let l=null,q=null,p="",s=null;function P(){try{return JSON.parse(localStorage.getItem("favorites"))||[]}catch{return[]}}function R(e){localStorage.setItem("favorites",JSON.stringify(e))}function Y(e){return P().some(n=>n._id===e)}function k(e){const t=document.getElementById("modal-add-favorites");t&&(Y(e)?(t.innerHTML="Remove from favorites ♥",t.style.color="#EEA10C",t.style.borderColor="#EEA10C"):(t.innerHTML="Add to favorites ♡",t.style.color="#F4F4F4",t.style.borderColor="rgba(244, 244, 244, 0.2)"))}let g=0;function ee(){const e=document.getElementById("rating-modal");if(!e)return;C(),e.classList.add("active"),document.body.style.overflow="hidden",g=0,L(0);const t=document.querySelector(".rating-current");t&&(t.textContent="0.0");const n=document.getElementById("rating-form");n&&n.reset()}function h(){const e=document.getElementById("rating-modal");e&&(e.classList.remove("active"),document.body.style.overflow="")}function L(e){document.querySelectorAll(".star-input").forEach((n,o)=>{parseFloat(n.getAttribute("data-rating"))<=e?(n.classList.add("active"),n.textContent="⭐"):(n.classList.remove("active"),n.textContent="☆")})}async function te(){try{const e=await fetch(`${y}/quote`);if(!e.ok)throw new Error("Network error");const t=await e.json();t?.quote&&t?.author?(w.textContent=t.quote,N.textContent=t.author):(w.textContent="Quote not available",N.textContent="")}catch(e){console.error("Error loading quote:",e),w.textContent="Failed to load quote"}}async function v(e="Body parts"){try{r.innerHTML="Loading categories...",r.classList.add("category-grid"),E.innerHTML="",i&&(i.textContent="");const t=encodeURIComponent(e),n=await fetch(`${y}/filters?filter=${t}&page=${c}&limit=${H}`);if(!n.ok)throw new Error("Error loading filters");const o=await n.json();o?.results?.length>0?(q={"Body parts":"bodyPart",Muscles:"muscles",Equipment:"equipment"}[e]||"bodyPart",ne(o.results,e),Q(o.totalPages)):r.innerHTML="Categories not found"}catch(t){console.error("Error loading categories:",t),r.innerHTML="Error loading categories"}}function ne(e,t){r.innerHTML="",e.forEach(n=>{const o=document.createElement("div");o.className="exercise-card";const a=n.name.toLowerCase().replace(/\s+/g,"-"),d=n.imgURL||"";o.innerHTML=`
        <img src="${d}" alt="${n.name}" loading="lazy" onerror="this.src='https://via.placeholder.com/300x300?text=No+Image'">
        <div class="exercise-overlay">
          <h3>${n.name}</h3>
          <div class="category">${t}</div>
        </div>
      `,o.addEventListener("click",()=>{l=a,c=1,i&&(i.textContent=n.name),x()}),r.appendChild(o)})}async function x(){if(!(!l||!q))try{r.innerHTML="Loading exercises...",r.classList.remove("category-grid"),E.innerHTML="";const e=new URLSearchParams({[q]:l,page:c,limit:H});p&&e.append("keyword",p);const t=await fetch(`${y}/exercises?${e.toString()}`);if(!t.ok)throw new Error("Error loading exercises");const n=await t.json();n?.results?.length>0?(oe(n.results),Q(n.totalPages)):r.innerHTML='<p style="text-align: center; padding: 40px;">No exercises found</p>'}catch(e){console.error("Error loading exercises:",e),r.innerHTML="Error loading exercises"}}function oe(e){r.innerHTML="";const t=document.createElement("button");t.textContent="← Back to categories",t.className="back-btn",t.addEventListener("click",()=>{l=null,c=1,p="",u&&(u.value=""),i&&(i.textContent="");const n=document.querySelector(".tab-btn.active"),o=n?n.textContent.trim():"Body parts";v(o)}),r.appendChild(t),e.forEach(n=>{const o=document.createElement("div");o.className="exercise-card-horizontal";const a=n.rating||0;o.innerHTML=`
        <div class="exercise-card-left">
          <div class="workout-badge">
            WORKOUT ${a.toFixed(1)} ⭐
          </div>
          <div class="exercise-info">
            <h3>${n.name}</h3>
            <div class="exercise-details">
              <span><span class="label">Burned calories:</span> ${n.burnedCalories||0} / ${n.time||0} min</span>
              <span><span class="label">Body part:</span> ${n.bodyPart||""}</span>
              <span><span class="label">Target:</span> ${n.target||""}</span>
            </div>
          </div>
        </div>
        <button class="start-btn">
          Start
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M12.172 7L6.808 1.636L8.222 0.222L16 8L8.222 15.778L6.808 14.364L12.172 9H0V7H12.172Z" fill="currentColor"/>
          </svg>
        </button>
      `,o.querySelector(".start-btn").addEventListener("click",B=>{B.stopPropagation(),re(n)}),r.appendChild(o)})}function re(e){const t=document.getElementById("exercise-modal");if(!t)return;s=e;const n=document.getElementById("modal-exercise-img"),o=document.getElementById("modal-exercise-name"),a=document.getElementById("modal-rating-stars"),d=document.getElementById("modal-target"),B=document.getElementById("modal-body-part"),K=document.getElementById("modal-equipment"),W=document.getElementById("modal-popularity"),Z=document.getElementById("modal-calories"),G=document.getElementById("modal-description-text");n&&(n.src=e.gifUrl||"https://via.placeholder.com/300x300?text=Exercise"),o&&(o.textContent=e.name||"");const T=e.rating||0,X=Math.floor(T),ie=T%1>=.5;let I=`${T.toFixed(1)} `;for(let S=0;S<5;S++)S<X||S===X&&ie?I+="⭐":I+="☆";a&&(a.textContent=I),d&&(d.textContent=e.target||""),B&&(B.textContent=e.bodyPart||""),K&&(K.textContent=e.equipment||""),W&&(W.textContent=e.popularity||"0"),Z&&(Z.textContent=`${e.burnedCalories||0}/${e.time||0} min`),G&&(G.textContent=e.description||"No description available."),k(e._id),t.classList.add("active"),document.body.style.overflow="hidden"}function C(){const e=document.getElementById("exercise-modal");e&&(e.classList.remove("active"),document.body.style.overflow="")}const O=document.getElementById("modal-close"),M=document.querySelector(".modal-overlay");O&&O.addEventListener("click",C),M&&M.addEventListener("click",e=>{e.target===M&&(C(),h())}),document.addEventListener("keydown",e=>{e.key==="Escape"&&(C(),h())});const j=document.getElementById("modal-add-favorites");j&&j.addEventListener("click",()=>{if(!s){alert("No exercise selected");return}const e=P(),t=s._id,n=e.findIndex(o=>o._id===t);n>-1?(e.splice(n,1),R(e),k(t),alert("Removed from favorites!")):(e.push(s),R(e),k(t),alert("Added to favorites!"))});const _=document.getElementById("modal-give-rating");_&&_.addEventListener("click",()=>{if(!s){alert("No exercise selected");return}ee()});const ae=document.querySelectorAll(".star-input"),D=document.querySelector(".rating-current"),J=document.querySelector(".rating-stars-input"),U=document.getElementById("rating-modal-close"),V=document.getElementById("rating-form");ae.forEach(e=>{e.addEventListener("click",()=>{const t=parseFloat(e.getAttribute("data-rating"));g=t,L(t),D&&(D.textContent=t.toFixed(1))}),e.addEventListener("mouseenter",()=>{const t=parseFloat(e.getAttribute("data-rating"));L(t)})}),J&&J.addEventListener("mouseleave",()=>{L(g)}),U&&U.addEventListener("click",h),V&&V.addEventListener("submit",async e=>{if(e.preventDefault(),!s){alert("No exercise selected");return}if(g===0){alert("Please select a rating");return}const t=document.getElementById("rating-email").value.trim(),n=document.getElementById("rating-comment").value.trim();if(!t||!n){alert("Please fill in all fields");return}try{const o=await fetch(`${y}/exercises/${s._id}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:g,email:t,review:n})});if(!o.ok)throw new Error("Failed to submit rating");const a=await o.json(),d=JSON.parse(localStorage.getItem("ratings")||"[]");d.push({exerciseId:s._id,exerciseName:s.name,rating:g,email:t,comment:n,date:new Date().toISOString()}),localStorage.setItem("ratings",JSON.stringify(d)),alert("Rating submitted successfully!"),h(),l&&x()}catch(o){console.error("Error submitting rating:",o),alert("Failed to submit rating. Please try again.")}});function Q(e){if(E.innerHTML="",!(!e||e<=1))for(let t=1;t<=e;t++){const n=document.createElement("button");n.className="page-btn",n.textContent=t,t===c&&n.classList.add("active"),n.addEventListener("click",()=>{if(c=t,l)x();else{const o=document.querySelector(".tab-btn.active"),a=o?o.textContent.trim():"Body parts";v(a)}}),E.appendChild(n)}}if(m.forEach(e=>{e.addEventListener("click",()=>{m.forEach(n=>n.classList.remove("active")),e.classList.add("active");const t=e.getAttribute("data-filter")||e.textContent.trim();c=1,l=null,p="",u&&(u.value=""),i&&(i.textContent=""),v(t)})}),A&&u){const e=()=>{p=u.value.trim(),l&&(c=1,x())};A.addEventListener("click",e),u.addEventListener("keypress",t=>{t.key==="Enter"&&e()})}b&&b.addEventListener("submit",async e=>{e.preventDefault();const n=b.querySelector('input[type="email"]')?.value.trim();if(!n){alert("Please enter your email");return}try{const a=await(await fetch(`${y}/subscription`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).json();alert(a.message||"Successfully subscribed!"),b.reset()}catch(o){console.error("Subscription error:",o),alert("Failed to subscribe. Please try again later.")}}),te(),i&&(i.textContent="");const z=Array.from(m).find(e=>e.getAttribute("data-filter")==="Body parts"||e.textContent.trim()==="Body parts");if(z)z.classList.add("active"),v("Body parts");else if(m.length>0){m[0].classList.add("active");const e=m[0].getAttribute("data-filter")||m[0].textContent.trim();v(e)}});
//# sourceMappingURL=index.js.map
