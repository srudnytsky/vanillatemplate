import"./assets/modulepreload-polyfill-B5Qt9EMX.js";/* empty css                      */document.addEventListener("DOMContentLoaded",()=>{const w=document.querySelector(".menu-toggle"),m=document.querySelector(".mobile-menu"),I=document.querySelector(".mobile-menu-close");w&&m&&I&&(w.addEventListener("click",()=>{m.classList.add("active"),document.body.style.overflow="hidden"}),I.addEventListener("click",()=>{m.classList.remove("active"),document.body.style.overflow=""}),m.querySelectorAll(".mobile-menu-link").forEach(e=>{e.addEventListener("click",()=>{m.classList.remove("active"),document.body.style.overflow=""})}));const f="https://your-energy.b.goit.study/api",a=document.getElementById("exercises-grid"),p=document.getElementById("pagination"),c=document.querySelectorAll(".tab-btn"),L=document.querySelector(".quote-text"),q=document.querySelector(".quote-author"),v=document.getElementById("subscribe-form"),i=document.getElementById("current-category"),l=document.getElementById("exercise-search"),T=document.getElementById("search-btn");let s=1;const S=12;let d=null,x=null,u="";async function D(){try{const e=await fetch(`${f}/quote`);if(!e.ok)throw new Error("Network error");const n=await e.json();n?.quote&&n?.author?(L.textContent=n.quote,q.textContent=n.author):(L.textContent="Quote not available",q.textContent="")}catch(e){console.error("Error loading quote:",e),L.textContent="Failed to load quote"}}async function y(e="Body parts"){try{a.innerHTML="Loading categories...",a.classList.add("category-grid"),p.innerHTML="",i&&(i.textContent="");const n=encodeURIComponent(e),t=await fetch(`${f}/filters?filter=${n}&page=${s}&limit=${S}`);if(!t.ok)throw new Error("Error loading filters");const o=await t.json();o?.results?.length>0?(x={"Body parts":"bodyPart",Muscles:"muscles",Equipment:"equipment"}[e]||"bodyPart",Q(o.results,e),N(o.totalPages)):a.innerHTML="Categories not found"}catch(n){console.error("Error loading categories:",n),a.innerHTML="Error loading categories"}}function Q(e,n){a.innerHTML="",e.forEach(t=>{const o=document.createElement("div");o.className="exercise-card";const r=t.name.toLowerCase().replace(/\s+/g,"-"),g=t.imgURL||"";o.innerHTML=`
        <img src="${g}" alt="${t.name}" loading="lazy" onerror="this.src='https://via.placeholder.com/300x300?text=No+Image'">
        <div class="exercise-overlay">
          <h3>${t.name}</h3>
          <div class="category">${n}</div>
        </div>
      `,o.addEventListener("click",()=>{d=r,s=1,i&&(i.textContent=t.name),C()}),a.appendChild(o)})}async function C(){if(!(!d||!x))try{a.innerHTML="Loading exercises...",a.classList.remove("category-grid"),p.innerHTML="";const e=new URLSearchParams({[x]:d,page:s,limit:S});u&&e.append("keyword",u);const n=await fetch(`${f}/exercises?${e.toString()}`);if(!n.ok)throw new Error("Error loading exercises");const t=await n.json();t?.results?.length>0?(z(t.results),N(t.totalPages)):a.innerHTML='<p style="text-align: center; padding: 40px;">No exercises found</p>'}catch(e){console.error("Error loading exercises:",e),a.innerHTML="Error loading exercises"}}function z(e){a.innerHTML="";const n=document.createElement("button");n.textContent="← Back to categories",n.className="back-btn",n.addEventListener("click",()=>{d=null,s=1,u="",l&&(l.value=""),i&&(i.textContent="");const t=document.querySelector(".tab-btn.active"),o=t?t.textContent.trim():"Body parts";y(o)}),a.appendChild(n),e.forEach(t=>{const o=document.createElement("div");o.className="exercise-card-horizontal";const r=t.rating||0;o.innerHTML=`
        <div class="exercise-card-left">
          <div class="workout-badge">
            WORKOUT ${r.toFixed(1)} ⭐
          </div>
          <div class="exercise-info">
            <h3>${t.name}</h3>
            <div class="exercise-details">
              <span><span class="label">Burned calories:</span> ${t.burnedCalories||0} / ${t.time||0} min</span>
              <span><span class="label">Body part:</span> ${t.bodyPart||""}</span>
              <span><span class="label">Target:</span> ${t.target||""}</span>
            </div>
          </div>
        </div>
        <button class="start-btn">
          Start
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M12.172 7L6.808 1.636L8.222 0.222L16 8L8.222 15.778L6.808 14.364L12.172 9H0V7H12.172Z" fill="currentColor"/>
          </svg>
        </button>
      `,o.querySelector(".start-btn").addEventListener("click",E=>{E.stopPropagation(),V(t)}),a.appendChild(o)})}function V(e){const n=document.getElementById("exercise-modal");if(!n)return;const t=document.getElementById("modal-exercise-img"),o=document.getElementById("modal-exercise-name"),r=document.getElementById("modal-rating-stars"),g=document.getElementById("modal-target"),E=document.getElementById("modal-body-part"),F=document.getElementById("modal-equipment"),R=document.getElementById("modal-popularity"),O=document.getElementById("modal-calories"),U=document.getElementById("modal-description-text");t&&(t.src=e.gifUrl||"https://via.placeholder.com/300x300?text=Exercise"),o&&(o.textContent=e.name||"");const k=e.rating||0,j=Math.floor(k),G=k%1>=.5;let b=`${k.toFixed(1)} `;for(let h=0;h<5;h++)h<j||h===j&&G?b+="⭐":b+="☆";r&&(r.textContent=b),g&&(g.textContent=e.target||""),E&&(E.textContent=e.bodyPart||""),F&&(F.textContent=e.equipment||""),R&&(R.textContent=e.popularity||"0"),O&&(O.textContent=`${e.burnedCalories||0}/${e.time||0} min`),U&&(U.textContent=e.description||"No description available."),n.classList.add("active"),document.body.style.overflow="hidden"}function B(){const e=document.getElementById("exercise-modal");e&&(e.classList.remove("active"),document.body.style.overflow="")}const M=document.getElementById("modal-close"),$=document.querySelector(".modal-overlay");M&&M.addEventListener("click",B),$&&$.addEventListener("click",B),document.addEventListener("keydown",e=>{e.key==="Escape"&&B()});const H=document.getElementById("modal-add-favorites"),P=document.getElementById("modal-give-rating");H&&H.addEventListener("click",()=>{alert("Add to favorites functionality - to be implemented")}),P&&P.addEventListener("click",()=>{alert("Give rating functionality - to be implemented")});function N(e){if(p.innerHTML="",!(!e||e<=1))for(let n=1;n<=e;n++){const t=document.createElement("button");t.className="page-btn",t.textContent=n,n===s&&t.classList.add("active"),t.addEventListener("click",()=>{if(s=n,d)C();else{const o=document.querySelector(".tab-btn.active"),r=o?o.textContent.trim():"Body parts";y(r)}}),p.appendChild(t)}}if(c.forEach(e=>{e.addEventListener("click",()=>{c.forEach(t=>t.classList.remove("active")),e.classList.add("active");const n=e.getAttribute("data-filter")||e.textContent.trim();s=1,d=null,u="",l&&(l.value=""),i&&(i.textContent=""),y(n)})}),T&&l){const e=()=>{u=l.value.trim(),d&&(s=1,C())};T.addEventListener("click",e),l.addEventListener("keypress",n=>{n.key==="Enter"&&e()})}v&&v.addEventListener("submit",async e=>{e.preventDefault();const t=v.querySelector('input[type="email"]')?.value.trim();if(!t){alert("Please enter your email");return}try{const r=await(await fetch(`${f}/subscription`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();alert(r.message||"Successfully subscribed!"),v.reset()}catch(o){console.error("Subscription error:",o),alert("Failed to subscribe. Please try again later.")}}),D(),i&&(i.textContent="");const A=Array.from(c).find(e=>e.getAttribute("data-filter")==="Body parts"||e.textContent.trim()==="Body parts");if(A)A.classList.add("active"),y("Body parts");else if(c.length>0){c[0].classList.add("active");const e=c[0].getAttribute("data-filter")||c[0].textContent.trim();y(e)}});
//# sourceMappingURL=index.js.map
