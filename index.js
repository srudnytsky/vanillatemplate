/* empty css                    */(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function b(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(r){if(r.ep)return;r.ep=!0;const a=b(r);fetch(r.href,a)}})();document.addEventListener("DOMContentLoaded",()=>{const q=document.querySelector(".menu-toggle"),l=document.querySelector(".mobile-menu"),b=document.querySelector(".mobile-menu-close");q&&l&&b&&(q.addEventListener("click",()=>{l.classList.add("active"),document.body.style.overflow="hidden"}),b.addEventListener("click",()=>{l.classList.remove("active"),document.body.style.overflow=""}),l.querySelectorAll(".mobile-menu-link").forEach(e=>{e.addEventListener("click",()=>{l.classList.remove("active"),document.body.style.overflow=""})}));const u="https://your-energy.b.goit.study/api",r=document.getElementById("exercises-grid"),a=document.getElementById("pagination"),s=document.querySelectorAll(".tab-btn"),M=document.querySelector(".quote-text"),$=document.querySelector(".quote-author"),h=document.getElementById("subscribe-form"),c=document.getElementById("current-category"),y=document.getElementById("exercise-search"),P=document.getElementById("search-btn");let m=1;const A=12;let f=null,T=null,v="",d=null;function H(){try{return JSON.parse(localStorage.getItem("favorites"))||[]}catch{return[]}}function O(e){localStorage.setItem("favorites",JSON.stringify(e))}function Y(e){return H().some(n=>n._id===e)}function F(e){const t=document.getElementById("modal-add-favorites");t&&(Y(e)?(t.innerHTML="Remove from favorites ♥",t.style.color="#EEA10C",t.style.borderColor="#EEA10C"):(t.innerHTML="Add to favorites ♡",t.style.color="#F4F4F4",t.style.borderColor="rgba(244, 244, 244, 0.2)"))}let p=0;function ee(){const e=document.getElementById("rating-modal");if(!e)return;B(),e.classList.add("active"),document.body.style.overflow="hidden",p=0,x(0);const t=document.querySelector(".rating-current");t&&(t.textContent="0.0");const n=document.getElementById("rating-form");n&&n.reset()}function L(){const e=document.getElementById("rating-modal");e&&(e.classList.remove("active"),document.body.style.overflow="")}function x(e){document.querySelectorAll(".star-input").forEach((n,o)=>{parseFloat(n.getAttribute("data-rating"))<=e?(n.classList.add("active"),n.textContent="⭐"):(n.classList.remove("active"),n.textContent="☆")})}async function te(){try{const e=await fetch(`${u}/quote`);if(!e.ok)throw new Error("Network error");const t=await e.json();t?.quote&&t?.author?(M.textContent=t.quote,$.textContent=t.author):(M.textContent="Quote not available",$.textContent="")}catch(e){console.error("Error loading quote:",e),M.textContent="Failed to load quote"}}async function E(e="Body parts"){try{r.innerHTML="Loading categories...",r.classList.add("category-grid"),a.innerHTML="",c&&(c.textContent="");const t=encodeURIComponent(e),n=await fetch(`${u}/filters?filter=${t}&page=${m}&limit=${A}`);if(!n.ok)throw new Error("Error loading filters");const o=await n.json();o?.results?.length>0?(T={"Body parts":"bodyPart",Muscles:"muscles",Equipment:"equipment"}[e]||"bodyPart",ne(o.results,e),Q(o.totalPages)):r.innerHTML="Categories not found"}catch(t){console.error("Error loading categories:",t),r.innerHTML="Error loading categories"}}function ne(e,t){r.innerHTML="",e.forEach(n=>{const o=document.createElement("div");o.className="exercise-card";const i=n.name.toLowerCase().replace(/\s+/g,"-"),g=n.imgURL||"";o.innerHTML=`
        <img src="${g}" alt="${n.name}" loading="lazy" onerror="this.src='https://via.placeholder.com/300x300?text=No+Image'">
        <div class="exercise-overlay">
          <h3>${n.name}</h3>
          <div class="category">${t}</div>
        </div>
      `,o.addEventListener("click",()=>{f=i,m=1,c&&(c.textContent=n.name),C()}),r.appendChild(o)})}async function C(){if(!(!f||!T))try{r.innerHTML="Loading exercises...",r.classList.remove("category-grid"),a.innerHTML="";const e=new URLSearchParams({[T]:f,page:m,limit:A});v&&e.append("keyword",v);const t=await fetch(`${u}/exercises?${e.toString()}`);if(!t.ok)throw new Error("Error loading exercises");const n=await t.json();n?.results?.length>0?(oe(n.results),Q(n.totalPages)):r.innerHTML='<p style="text-align: center; padding: 40px;">No exercises found</p>'}catch(e){console.error("Error loading exercises:",e),r.innerHTML="Error loading exercises"}}function oe(e){r.innerHTML="";const t=document.createElement("button");t.textContent="← Back to categories",t.className="back-btn",t.addEventListener("click",()=>{f=null,m=1,v="",y&&(y.value=""),c&&(c.textContent="");const n=document.querySelector(".tab-btn.active"),o=n?n.textContent.trim():"Body parts";E(o)}),r.appendChild(t),e.forEach(n=>{const o=document.createElement("div");o.className="exercise-card-horizontal";const i=n.rating||0;o.innerHTML=`
        <div class="exercise-card-left">
          <div class="workout-badge">
            WORKOUT ${i.toFixed(1)} ⭐
          </div>
          <div class="exercise-info">
            <h3>${n.name}</h3>
            <div class="exercise-details">
              <span><span class="label">Burned calories:</span> ${n.burnedCalories||0} / ${n.time||0} min</span>
              <span><span class="label">Body part:</span> ${n.bodyPart||""}</span>
              <span><span class="label">Target:</span> ${n.target||""}</span>
            </div>
          </div>
        </div>
        <button class="start-btn">
          Start
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M12.172 7L6.808 1.636L8.222 0.222L16 8L8.222 15.778L6.808 14.364L12.172 9H0V7H12.172Z" fill="currentColor"/>
          </svg>
        </button>
      `,o.querySelector(".start-btn").addEventListener("click",I=>{I.stopPropagation(),re(n)}),r.appendChild(o)})}function re(e){const t=document.getElementById("exercise-modal");if(!t)return;d=e;const n=document.getElementById("modal-exercise-img"),o=document.getElementById("modal-exercise-name"),i=document.getElementById("modal-rating-stars"),g=document.getElementById("modal-target"),I=document.getElementById("modal-body-part"),K=document.getElementById("modal-equipment"),W=document.getElementById("modal-popularity"),Z=document.getElementById("modal-calories"),G=document.getElementById("modal-description-text");n&&(n.src=e.gifUrl||"https://via.placeholder.com/300x300?text=Exercise"),o&&(o.textContent=e.name||"");const N=e.rating||0,X=Math.floor(N),ie=N%1>=.5;let S=`${N.toFixed(1)} `;for(let w=0;w<5;w++)w<X||w===X&&ie?S+="⭐":S+="☆";i&&(i.textContent=S),g&&(g.textContent=e.target||""),I&&(I.textContent=e.bodyPart||""),K&&(K.textContent=e.equipment||""),W&&(W.textContent=e.popularity||"0"),Z&&(Z.textContent=`${e.burnedCalories||0}/${e.time||0} min`),G&&(G.textContent=e.description||"No description available."),F(e._id),t.classList.add("active"),document.body.style.overflow="hidden"}function B(){const e=document.getElementById("exercise-modal");e&&(e.classList.remove("active"),document.body.style.overflow="")}const R=document.getElementById("modal-close"),k=document.querySelector(".modal-overlay");R&&R.addEventListener("click",B),k&&k.addEventListener("click",e=>{e.target===k&&(B(),L())}),document.addEventListener("keydown",e=>{e.key==="Escape"&&(B(),L())});const j=document.getElementById("modal-add-favorites");j&&j.addEventListener("click",()=>{if(!d){alert("No exercise selected");return}const e=H(),t=d._id,n=e.findIndex(o=>o._id===t);n>-1?(e.splice(n,1),O(e),F(t),alert("Removed from favorites!")):(e.push(d),O(e),F(t),alert("Added to favorites!"))});const _=document.getElementById("modal-give-rating");_&&_.addEventListener("click",()=>{if(!d){alert("No exercise selected");return}ee()});const ae=document.querySelectorAll(".star-input"),D=document.querySelector(".rating-current"),J=document.querySelector(".rating-stars-input"),U=document.getElementById("rating-modal-close"),V=document.getElementById("rating-form");ae.forEach(e=>{e.addEventListener("click",()=>{const t=parseFloat(e.getAttribute("data-rating"));p=t,x(t),D&&(D.textContent=t.toFixed(1))}),e.addEventListener("mouseenter",()=>{const t=parseFloat(e.getAttribute("data-rating"));x(t)})}),J&&J.addEventListener("mouseleave",()=>{x(p)}),U&&U.addEventListener("click",L),V&&V.addEventListener("submit",async e=>{if(e.preventDefault(),!d){alert("No exercise selected");return}if(p===0){alert("Please select a rating");return}const t=document.getElementById("rating-email").value.trim(),n=document.getElementById("rating-comment").value.trim();if(!t||!n){alert("Please fill in all fields");return}try{const o=await fetch(`${u}/exercises/${d._id}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:p,email:t,review:n})});if(!o.ok)throw new Error("Failed to submit rating");const i=await o.json(),g=JSON.parse(localStorage.getItem("ratings")||"[]");g.push({exerciseId:d._id,exerciseName:d.name,rating:p,email:t,comment:n,date:new Date().toISOString()}),localStorage.setItem("ratings",JSON.stringify(g)),alert("Rating submitted successfully!"),L(),f&&C()}catch(o){console.error("Error submitting rating:",o),alert("Failed to submit rating. Please try again.")}});function Q(e){if(a.innerHTML="",!(!e||e<=1))for(let t=1;t<=e;t++){const n=document.createElement("button");n.className="page-btn",n.textContent=t,t===m&&n.classList.add("active"),n.addEventListener("click",()=>{if(m=t,f)C();else{const o=document.querySelector(".tab-btn.active"),i=o?o.textContent.trim():"Body parts";E(i)}}),a.appendChild(n)}}if(s.forEach(e=>{e.addEventListener("click",()=>{s.forEach(n=>n.classList.remove("active")),e.classList.add("active");const t=e.getAttribute("data-filter")||e.textContent.trim();m=1,f=null,v="",y&&(y.value=""),c&&(c.textContent=""),E(t)})}),P&&y){const e=()=>{v=y.value.trim(),f&&(m=1,C())};P.addEventListener("click",e),y.addEventListener("keypress",t=>{t.key==="Enter"&&e()})}h&&h.addEventListener("submit",async e=>{e.preventDefault();const n=h.querySelector('input[type="email"]')?.value.trim();if(!n){alert("Please enter your email");return}try{const i=await(await fetch(`${u}/subscription`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).json();alert(i.message||"Successfully subscribed!"),h.reset()}catch(o){console.error("Subscription error:",o),alert("Failed to subscribe. Please try again later.")}}),te(),c&&(c.textContent="");const z=Array.from(s).find(e=>e.getAttribute("data-filter")==="Body parts"||e.textContent.trim()==="Body parts");if(z)z.classList.add("active"),E("Body parts");else if(s.length>0){s[0].classList.add("active");const e=s[0].getAttribute("data-filter")||s[0].textContent.trim();E(e)}});
//# sourceMappingURL=index.js.map
