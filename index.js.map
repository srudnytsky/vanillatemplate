{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":[" document.addEventListener('DOMContentLoaded', () => {\n      // === MOBILE MENU ===\n      const menuToggle = document.querySelector('.menu-toggle');\n      const mobileMenu = document.querySelector('.mobile-menu');\n      const menuClose = document.querySelector('.mobile-menu-close');\n      \n      if (menuToggle && mobileMenu && menuClose) {\n        menuToggle.addEventListener('click', () => {\n          mobileMenu.classList.add('active');\n          document.body.style.overflow = 'hidden';\n        });\n        \n        menuClose.addEventListener('click', () => {\n          mobileMenu.classList.remove('active');\n          document.body.style.overflow = '';\n        });\n        \n        mobileMenu.querySelectorAll('.mobile-menu-link').forEach(link => {\n          link.addEventListener('click', () => {\n            mobileMenu.classList.remove('active');\n            document.body.style.overflow = '';\n          });\n        });\n      }\n\n      // === MAIN APP LOGIC (Ð²Ð°Ñˆ main.js) ===\n      const API_BASE = 'https://your-energy.b.goit.study/api'; // Fixed extra space!\n\n      const grid = document.getElementById('exercises-grid');\n      const pagination = document.getElementById('pagination');\n      const tabs = document.querySelectorAll('.tab-btn');\n      const quoteText = document.querySelector('.quote-text');\n      const quoteAuthor = document.querySelector('.quote-author');\n      const subscribeForm = document.getElementById('subscribe-form');\n\n      let currentPage = 1;\n      const limit = 12;\n      let selectedCategory = null;   // Example: \"lower-legs\"\n      let currentFilterType = null;  // Example: \"bodyParts\"\n\n      // === Load daily quote ===\n      async function loadQuote() {\n        try {\n          const res = await fetch(`${API_BASE}/quote`);\n          if (!res.ok) throw new Error('Network error');\n          const data = await res.json();\n          if (data?.quote && data?.author) {\n            quoteText.textContent = data.quote;\n            quoteAuthor.textContent = data.author;\n          } else {\n            quoteText.textContent = \"Quote not available\";\n            quoteAuthor.textContent = \"\";\n          }\n        } catch (err) {\n          console.error('Error loading quote:', err);\n          quoteText.textContent = \"Failed to load quote\";\n        }\n      }\n\n      // === Load category list (Muscles / Body parts / Equipment) ===\n      async function loadFilters(filterName = 'Body parts') {\n        try {\n          grid.innerHTML = 'Loading categories...';\n          pagination.innerHTML = '';\n\n          const encodedFilter = encodeURIComponent(filterName);\n          const res = await fetch(`${API_BASE}/filters?filter=${encodedFilter}&page=${currentPage}&limit=${limit}`);\n          if (!res.ok) throw new Error('Error loading filters');\n          \n          const data = await res.json();\n\n          if (data?.results?.length > 0) {\n            // Mapping tab names to API parameters\n            const typeMap = {\n              'Body parts': 'bodyParts',\n              'Muscles': 'muscles',\n              'Equipment': 'equipment'\n            };\n            currentFilterType = typeMap[filterName] || 'bodyParts';\n\n            renderCategories(data.results, filterName);\n            renderPagination(data.totalPages);\n          } else {\n            grid.innerHTML = 'Categories not found';\n          }\n        } catch (err) {\n          console.error('Error loading categories:', err);\n          grid.innerHTML = 'Error loading categories';\n        }\n      }\n\n      // === Display category cards ===\n      function renderCategories(items, filterName) {\n        grid.innerHTML = '';\n        items.forEach(item => {\n          const card = document.createElement('div');\n          card.className = 'exercise-card';\n\n          // Convert \"lower legs\" â†’ \"lower-legs\" for API\n          const apiValue = item.name.toLowerCase().replace(/\\s+/g, '-');\n\n          // Generate image URL (if available)\n          const imgURL = item.imgURL || '';\n\n          card.innerHTML = `\n            <img src=\"${imgURL}\" alt=\"${item.name}\" loading=\"lazy\" onerror=\"this.src='https://via.placeholder.com/300x300?text=No+Image'\">\n            <div class=\"exercise-overlay\">\n              <h3>${item.name}</h3>\n              <div class=\"category\">${filterName}</div>\n            </div>\n          `;\n\n          card.addEventListener('click', () => {\n            selectedCategory = apiValue;\n            currentPage = 1;\n            loadExercises();\n          });\n\n          grid.appendChild(card);\n        });\n      }\n\n      // === Load exercises by selected category ===\n      async function loadExercises() {\n        if (!selectedCategory || !currentFilterType) return;\n\n        try {\n          grid.innerHTML = 'Loading exercises...';\n          pagination.innerHTML = '';\n\n          const params = new URLSearchParams({\n            [currentFilterType]: selectedCategory,\n            page: currentPage,\n            limit: limit\n          });\n\n          const res = await fetch(`${API_BASE}/exercises?${params.toString()}`);\n          if (!res.ok) throw new Error('Error loading exercises');\n\n          const data = await res.json();\n\n          if (data?.results?.length > 0) {\n            renderExercises(data.results);\n            renderPagination(data.totalPages);\n          } else {\n            grid.innerHTML = 'Exercises not found';\n          }\n        } catch (err) {\n          console.error('Error loading exercises:', err);\n          grid.innerHTML = 'Error loading exercises';\n        }\n      }\n\n      // === Display exercises ===\n   // === Display exercises ===\nfunction renderExercises(exercises) {\n  grid.innerHTML = '';\n\n  // \"Back\" button\n  const backBtn = document.createElement('button');\n  backBtn.textContent = 'â† Back to categories';\n  backBtn.className = 'back-btn';\n  backBtn.addEventListener('click', () => {\n    selectedCategory = null;\n    currentPage = 1;\n    const activeTab = document.querySelector('.tab-btn.active');\n    const filterName = activeTab ? activeTab.textContent.trim() : 'Body parts';\n    loadFilters(filterName);\n  });\n  grid.appendChild(backBtn);\n\n  // Exercise cards\n  exercises.forEach(ex => {\n    const card = document.createElement('div');\n    card.className = 'exercise-card';\n\n    card.innerHTML = `\n      <img src=\"${ex.gifUrl || 'https://via.placeholder.com/300x300?text=Exercise'}\" \n           alt=\"${ex.name}\" loading=\"lazy\">\n      <div class=\"exercise-overlay\">\n        <h3>${ex.name}</h3>\n        <div class=\"category\">${ex.target || ex.bodyPart || ex.equipment || ''}</div>\n      </div>\n    `;\n\n    // ðŸ”¥ Ð”ÐžÐ‘ÐÐ’Ð›Ð¯Ð•Ðœ ÐŸÐ•Ð Ð•Ð¥ÐžÐ” ÐÐ Ð”Ð•Ð¢ÐÐ›Ð¬ÐÐ£Ð® Ð¡Ð¢Ð ÐÐÐ˜Ð¦Ð£\n    card.addEventListener('click', () => {\n      window.location.href = `exercise-detail.html?id=${ex._id}`;\n    });\n\n    grid.appendChild(card);\n  });\n}\n\n      // === Pagination ===\n      function renderPagination(totalPages) {\n        pagination.innerHTML = '';\n        if (!totalPages || totalPages <= 1) return;\n\n        for (let i = 1; i <= totalPages; i++) {\n          const btn = document.createElement('button');\n          btn.className = 'page-btn';\n          btn.textContent = i;\n          if (i === currentPage) btn.classList.add('active');\n\n          btn.addEventListener('click', () => {\n            currentPage = i;\n            if (selectedCategory) {\n              loadExercises();\n            } else {\n              // Determine current filter by active tab\n              const activeTab = document.querySelector('.tab-btn.active');\n              const filterName = activeTab ? activeTab.textContent.trim() : 'Body parts';\n              loadFilters(filterName);\n            }\n          });\n\n          pagination.appendChild(btn);\n        }\n      }\n\n      // === Tab handling ===\n      tabs.forEach(tab => {\n        tab.addEventListener('click', () => {\n          tabs.forEach(t => t.classList.remove('active'));\n          tab.classList.add('active');\n\n          const filterName = tab.textContent.trim(); // \"Muscles\", \"Body parts\", \"Equipment\"\n          currentPage = 1;\n          selectedCategory = null;\n          loadFilters(filterName);\n        });\n      });\n\n      // === Subscription (if form exists) ===\n      if (subscribeForm) {\n        subscribeForm.addEventListener('submit', async (e) => {\n          e.preventDefault();\n          const emailInput = subscribeForm.querySelector('input[type=\"email\"]');\n          const email = emailInput?.value.trim();\n\n          if (!email) {\n            alert('Please enter your email');\n            return;\n          }\n\n          try {\n            const res = await fetch(`${API_BASE}/subscription`, {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ email })\n            });\n\n            const data = await res.json();\n            alert(data.message || 'Successfully subscribed!');\n            subscribeForm.reset();\n          } catch (err) {\n            console.error('Subscription error:', err);\n            alert('Failed to subscribe. Please try again later.');\n          }\n        });\n      }\n\n      // === Initialization ===\n      loadQuote();\n\n      // Activate first tab by default (\"Body parts\")\n      if (tabs.length > 0) {\n        tabs[0].classList.add('active');\n        loadFilters('Body parts');\n      }\n    });"],"names":["menuToggle","mobileMenu","menuClose","link","API_BASE","grid","pagination","tabs","quoteText","quoteAuthor","subscribeForm","currentPage","limit","selectedCategory","currentFilterType","loadQuote","res","data","err","loadFilters","filterName","encodedFilter","renderCategories","renderPagination","items","item","card","apiValue","imgURL","loadExercises","params","renderExercises","exercises","backBtn","activeTab","ex","totalPages","i","btn","tab","t","e","email"],"mappings":"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"}